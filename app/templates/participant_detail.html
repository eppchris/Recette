{% extends 'base.html' %}

{% block breadcrumb %}
<a href="/recipes?lang={{ lang }}" class="hover:text-gray-900 dark:hover:text-gray-100 transition-colors">
  {{ 'Recettes' if lang == 'fr' else 'ãƒ¬ã‚·ãƒ”' }}
</a>
<span class="mx-2">â€º</span>
<a href="/participants?lang={{ lang }}" class="hover:text-gray-900 dark:hover:text-gray-100 transition-colors">
  {{ 'Participants' if lang == 'fr' else 'å‚åŠ è€…' }}
</a>
<span class="mx-2">â€º</span>
<span class="text-gray-900 dark:text-gray-100">{{ participant.nom }}{% if participant.prenom %} {{ participant.prenom }}{% endif %}</span>
{% endblock %}

{% block content %}
<div>
    <!-- Bouton retour -->
    <div class="mb-4">
        <a href="/participants?lang={{ lang }}"
           class="inline-flex items-center gap-2 px-3 py-2
                  text-blue-600 dark:text-blue-400
                  hover:bg-blue-50 dark:hover:bg-blue-900/20
                  rounded-lg transition-colors duration-150">
            <span class="text-lg">â†</span>
            <span class="font-medium">{{ 'Retour aux participants' if lang == 'fr' else 'å‚åŠ è€…ã«æˆ»ã‚‹' }}</span>
        </a>
    </div>

    <!-- Informations du participant -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
        <h1 class="text-2xl font-bold mb-4">{{ participant.nom }}{% if participant.prenom %} {{ participant.prenom }}{% endif %}</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {% if participant.role %}
            <div>
                <div class="text-sm text-gray-500 dark:text-gray-400">{{ 'RÃ´le' if lang == 'fr' else 'å½¹å‰²' }}</div>
                <div class="font-medium">{{ participant.role }}</div>
            </div>
            {% endif %}

            {% if participant.telephone %}
            <div>
                <div class="text-sm text-gray-500 dark:text-gray-400">{{ 'TÃ©lÃ©phone' if lang == 'fr' else 'é›»è©±' }}</div>
                <div class="font-medium">ğŸ“ {{ participant.telephone }}</div>
            </div>
            {% endif %}

            {% if participant.email %}
            <div>
                <div class="text-sm text-gray-500 dark:text-gray-400">{{ 'Email' if lang == 'fr' else 'ãƒ¡ãƒ¼ãƒ«' }}</div>
                <div class="font-medium">âœ‰ï¸ {{ participant.email }}</div>
            </div>
            {% endif %}

            {% if participant.adresse %}
            <div class="md:col-span-2">
                <div class="text-sm text-gray-500 dark:text-gray-400">{{ 'Adresse' if lang == 'fr' else 'ä½æ‰€' }}</div>
                <div class="font-medium">{{ participant.adresse }}</div>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Groupes du participant -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
        <h2 class="text-xl font-semibold mb-4">{{ 'Groupes' if lang == 'fr' else 'ã‚°ãƒ«ãƒ¼ãƒ—' }}</h2>

        {% if groups %}
        <div class="space-y-2">
            {% for group in groups %}
            <a href="/participants/groups/{{ group.id }}?lang={{ lang }}"
               class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                <div>
                    <div class="font-medium">{{ group.nom }}</div>
                    {% if group.description %}
                    <div class="text-sm text-gray-600 dark:text-gray-400">{{ group.description }}</div>
                    {% endif %}
                </div>
                <span class="text-blue-600 dark:text-blue-400">â†’</span>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <p class="text-center text-gray-500 dark:text-gray-400 py-4">
            {{ 'Aucun groupe' if lang == 'fr' else 'ã‚°ãƒ«ãƒ¼ãƒ—ãŒã‚ã‚Šã¾ã›ã‚“' }}
        </p>
        {% endif %}
    </div>

    <!-- Ã‰vÃ©nements du participant -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6">
        <h2 class="text-xl font-semibold mb-4">{{ 'Ã‰vÃ©nements' if lang == 'fr' else 'ã‚¤ãƒ™ãƒ³ãƒˆ' }}</h2>

        {% if events %}
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                <thead class="bg-gray-50 dark:bg-gray-700">
                    <tr>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">
                            {{ 'Nom' if lang == 'fr' else 'åå‰' }}
                        </th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">
                            {{ 'Type' if lang == 'fr' else 'ã‚¿ã‚¤ãƒ—' }}
                        </th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">
                            {{ 'Date' if lang == 'fr' else 'æ—¥ä»˜' }}
                        </th>
                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase">
                            {{ 'AjoutÃ© via' if lang == 'fr' else 'è¿½åŠ æ–¹æ³•' }}
                        </th>
                    </tr>
                </thead>
                <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700">
                    {% for event in events %}
                    <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                        <td class="px-4 py-3">
                            <a href="/events/{{ event.id }}?lang={{ lang }}" class="font-medium text-blue-600 dark:text-blue-400 hover:underline">
                                {{ event.name }}
                            </a>
                        </td>
                        <td class="px-4 py-3 text-gray-600 dark:text-gray-400">
                            {{ event.event_type_name_fr if lang == 'fr' else event.event_type_name_jp }}
                        </td>
                        <td class="px-4 py-3 text-gray-600 dark:text-gray-400">
                            {{ event.event_date }}
                        </td>
                        <td class="px-4 py-3 text-sm text-gray-600 dark:text-gray-400">
                            {% if event.group_name %}
                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded">
                                ğŸ‘¥ {{ event.group_name }}
                            </span>
                            {% else %}
                            <span class="text-gray-500 dark:text-gray-400">{{ 'Individuel' if lang == 'fr' else 'å€‹åˆ¥' }}</span>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p class="text-center text-gray-500 dark:text-gray-400 py-4">
            {{ 'Aucun Ã©vÃ©nement' if lang == 'fr' else 'ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“' }}
        </p>
        {% endif %}
    </div>
</div>
{% endblock %}
