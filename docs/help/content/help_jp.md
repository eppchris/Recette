# 利用ガイド - Recette App

## 📖 レシピ管理 {#recipes}

### レシピを見る
メインメニューからレシピ一覧にアクセスできます。各レシピには以下が表示されます：

- レシピ名と画像

- デフォルトの人数

- レシピタイプ（PRO、MASTER、PERSOなど）

- 作成者

### レシピをフィルター
複数のフィルターオプションがあります：

- **イベントタイプ別:** ボタンをクリック（前菜、メイン、デザートなど）

- **作成者別:** ドロップダウンメニューを使用

- **テキスト検索:** レシピ名を検索バーに入力

---

## 🔍 食材で検索 {#search}

### どのように機能しますか？
この機能を使用すると、指定した**すべて**の食材を含むレシピを見つけることができます。

### 使い方

1. レシピページで、緑色の「食材で検索」ブロックを見つけます 🥕

2. カンマで区切って食材を入力します：`トマト、バジル、モッツァレラ`

3. 「検索」をクリックするか、Enterキーを押します

4. **これらすべての食材**を含むレシピのみが表示されます

5. 「クリア」をクリックして完全なリストに戻ります

> **💡 ヒント:** レシピが見つからない場合は、食材を減らすか、スペルを確認してください。

---

## 👥 参加者とグループの管理 {#participants}

### 参加者を作成

1. メインメニューから「参加者」ページにアクセス
2. 「➕ 新規参加者」をクリック
3. 情報を入力:

   - **名前**（必須）
   - **名**
   - **役割**（例：ゲスト、スタッフ、講演者）
   - **電話番号**
   - **メール**
   - **住所**

4. 「保存」をクリック

### 参加者グループを作成

グループを使用して参加者を整理できます（例：「田中家族」、「マーケティングチーム」）:

1. 「参加者」ページで「➕ 新規グループ」をクリック
2. グループ名を入力（必須）
3. 説明を追加（オプション）
4. 「保存」をクリック

### グループに参加者を追加

グループの詳細ページから:

1. **グループ名をクリック**して詳細ページにアクセス
2. **「参加者を追加」セクション**（上部）:
   - グループに追加したい参加者をチェック
   - 既にメンバーの参加者はこのリストに表示されません
3. **「現在のメンバー」セクション**（下部）:
   - グループの全メンバーのリスト
   - ❌をクリックしてメンバーを削除

### 参加者のグループを表示

参加者の詳細ページから:

1. **参加者名をクリック**して詳細ページにアクセス
2. **「グループ」セクション**に所属する全グループが表示されます
3. ❌をクリックしてグループから参加者を削除できます

> **💡 ヒント:** 参加者は複数のグループに同時に所属できます。

### マルチユーザー分離

各ユーザーは自分の参加者とグループのみを表示できます。管理者はすべてのユーザーのすべての参加者とグループを表示できます。

---

## 📅 イベント管理 {#events}

### イベントを作成

1. イベント一覧から「新規イベント」をクリック

2. 情報を入力：名前、タイプ、日付、場所、参加者数

3. 必要に応じてメモを追加

4. 「保存」をクリック

### イベントをコピー
既存のイベントから新しいイベントを素早く作成：

1. イベント一覧で、複製したいイベントの横にある「コピー」をクリック

2. フォームには元のイベントのすべての情報が事前入力されます

3. 名前、日付、場所、その他の必要な情報を変更

4. 元のイベントの日数が保持されます

5. 開始日を入力：終了日が自動的に計算されます

6. 確認して新しいイベントを作成

**コピーされるもの:**

- ✅ すべてのレシピと調整された数量

- ✅ 予定予算と通貨

- ✅ レシピの組織/プランニング（同じ日数の場合）

**コピーされないもの:**

- ❌ 実際の経費

- ❌ 買い物リスト（自動的に再生成されます）

> **💡 ヒント:** 元のイベントで日を選択解除している場合（例：週末）、選択された日のみがプランニングのコピーに考慮されます。

### イベントにレシピを追加

1. イベントを開く

2. 「レシピを追加」をクリック

3. リストからレシピを選択

4. 必要に応じて人数を調整

### イベントの参加者を管理

イベントに登録された参加者を追加・管理します:

1. **イベント一覧からイベントを開く**
2. **ページ上部の「参加者 (X)」ボタンをクリック**
3. **モーダルウィンドウ**が2つの列で開きます:

   **左列 - 参加者を追加:**
   - **個別参加者:** 名前の横のチェックボックスをチェックして個人を追加
   - **グループ全体:** グループ名の横のチェックボックスをチェックして全メンバーを一度に追加
   - 既に登録されている参加者/グループはこのリストに表示されません

   **右列 - 登録済み参加者:**
   - イベントに既に登録されているすべての参加者のリスト
   - **出所の表示:**
     - 個別に追加された場合: 名前のみ
     - グループ経由で追加された場合: "via グループ: [グループ名]"
   - **参加者を削除:** 名前の横の赤い❌をクリック

4. **自動保存:** 追加と削除は即座に記録されます

> **💡 ヒント:** グループ経由で追加された参加者を削除すると、不整合を避けるためにページがリロードされます。個別に追加された参加者は即座に削除できます。

> **📌 注意:** イベントに追加する前に、「参加者」メニューから参加者とグループを作成する必要があります。

---

## 📆 複数日イベント {#multiday}

### 複数日イベントを作成

1. 作成時に**開始日**と**終了日**を選択

2. 開始日から終了日までのすべての日付がカレンダーに表示されます

3. 日付はデフォルトで選択されています（青色）

4. **日付をクリック**して選択解除（例：週末、祝日）

   - 🔵 選択された日付（作業日）

   - ⚪ 選択解除された日付（非作業日）

5. 日数は自動的に計算されます

> **📌 例:** 6月10日（月）から14日（金）までのセミナー：
> - 開始日：10/06 - 終了日：14/06
> - 5つの日付が表示されます（月曜日から金曜日）
> - すべて選択 → 5日間の作業日

---

## 🗓️ レシピプランニング {#planning}

### 組織（読み取り専用）
日別にレシピのプランニングを視覚化：

1. 複数日イベントを開く

2. メニューの「組織」をクリック

3. 日付別に整理されたレシピを見る

### プランニング（ドラッグ＆ドロップ）
ドラッグ＆ドロップでレシピを日別に整理：

1. 組織から「プランニング」をクリック

2. 2つの列が表示されます：

   - **左：**利用可能なレシピ

   - **右：**イベントの日付

3. 左から右へレシピを**ドラッグ＆ドロップ**

4. 日付間でレシピを移動

5. ❌をクリックしてレシピを削除

6. 「保存」をクリックして保存

**✨ 機能:**

- 2つの列の独立したスクロール

- リアルタイム視覚化

- 簡単な再編成

---

## 🛒 買い物リスト {#shopping}

### 自動生成
買い物リストはイベントのレシピから自動生成されます：

- 食材がグループ化され、合計されます

- 単位は可能な場合自動変換されます

- 参加者数を変更するとリストが更新されます

### 使用方法

1. イベントを開く

2. 「買い物リスト」をクリック

3. 購入した商品をチェック

4. 必要に応じて数量を変更

---

## 💰 予算管理 {#budget}

### 予算を設定

1. イベントを開く

2. 「予算」をクリック

3. 予定予算を設定

4. 通貨を選択（€または¥）

### 食材に価格を追加
買い物リストから直接：

- 食材の横にある「💰」ボタンをクリック

- 単価と数量を入力

- 合計が自動計算されます

- 価格はカタログに保存されます

### 経費追跡
カテゴリ別に経費を追加：

- 食材（自動計算）

- 物流、機材、人件費など

- 使用予算vs予定予算を視覚化

---

## 📚 価格カタログ {#catalog}

### カタログの目的
カタログは食材の価格を保存します：

- 新しいイベントでの自動提案

- 迅速な予算見積もり

- 異なる通貨での価格履歴

### カタログを管理
メインメニューからカタログにアクセス：

- 価格付きの新しい食材を追加

- 既存の価格を変更

- €と¥で価格を設定

- レシピの食材と同期

---

## ✅ レシピとコストの確認

### 🔍 ステップ 1 : レシピを確認

正確なコスト計算を保証するために、各レシピを確認してください：

1. **レシピ一覧から各レシピを開く**

2. **食材の単位を確認**

   - 単位は実際の使用に対応する必要があります（ml、g、大さじ、個など）

   - 例：だし → ml（レシピ内）

3. **特別な注意が必要な食材をメモ**

### 💰 ステップ 2 : 価格カタログを確認

レシピで使用される各食材について：

1. **価格カタログにアクセス**

2. **各食材の購入単位を確認**

   - 単位は実際のパッケージに対応する必要があります

   - 例：だし → 30g（袋）、バター → 250g（ブロック）

3. **価格と数量を確認**

   - 価格：購入時に支払った金額

   - 数量：パッケージの内容量

   - 例：だし 30g = 5.01€

### 🔄 ステップ 3 : 特定の変換を管理

一部の食材は購入と使用の間で形態が変わります：

**特定の変換をいつ使用するか？**

- 食材が一つの単位（g）で購入されるが、別の単位（ml）で使用される

- その食材に対する標準的な容量↔重量の変換が存在しない

- 例：だし粉（g） → 液体スープ（ml）

**特定の変換を追加する方法:**

1. メニューから「**食材別特定変換**」にアクセス

2. 「**➕ 追加**」をクリック

3. 情報を入力:

   - **食材**: 正確な名前（例：だし）

   - **から**: カタログの単位（例：g）

   - **へ**: レシピの単位（例：ml）

   - **係数**: 変換比率（例：33 = 1g → 33ml）

   - **備考**: 説明（例：「30gの粉 → 1000mlのスープ」）

**特定の変換の例:**

- **だし**: 1g → 33ml（粉30g = スープ1000ml）

- **ブイヨンキューブ**: 1個 → 500ml（1個 = スープ500ml）

- **マッシュルーム**: 1g → 1缶（包装変換）

### 💡 ステップ 4 : レシピのコストを確認

変換を設定したら：

1. **レシピを開く**

2. **レシピの詳細ページで自動計算されたコストを確認**

   - レシピの合計コストが自動的に表示されます

   - 一人当たりのコストは人数に応じて計算されます

   - **主な目的**：食材ごとの金額が正しいことを確認する

3. **金額の整合性を確認**:

   - 合計コストは現実的である必要があります

   - 一人当たりのコストは一貫している必要があります

   - 特定の変換を持つ食材は正しい価格を表示する必要があります

   - 金額が正しくない場合は、カタログの価格と単位を確認してください

**確認例（だし）:**

- ✅ レシピ : 250mlのだし

- ✅ カタログ : 30g = 5.01€

- ✅ 変換 : 1g → 33ml

- ✅ 計算 : 250ml ÷ 33 = 7.58g → 7.58g × (5.01€/30g) = **1.27€**

- ❌ 41.75€と表示される場合 → 特定の変換が設定されていません

### 📊 ステップ 5 : イベントの予算を確認

既存のイベントについて：

1. **イベントを開く**

2. 「**予算**」をクリック

3. **買い物リスト**と計算された価格を確認

4. 価格は必要な実際の数量に対応する必要があります

5. 価格が正しくないように見える場合は、以下を確認してください:

   - カタログの価格

   - 必要に応じて特定の変換の存在

   - 使用されている単位（レシピ vs カタログ）

---

## ❓ よくある質問

### イベント作成後に参加者数を変更できますか？
はい！買い物リストと数量が自動的に更新されます。

### 食材検索は少なくとも1つの食材を含むレシピを見つけますか、それともすべての食材ですか？
すべての食材です！AND論理です。「トマト、バジル」を検索すると、トマトとバジルの両方を含むレシピのみが表示されます。

### 特定の日だけレシピを計画できますか？
はい！イベント作成時に、作業しない日（週末、祝日）の選択を解除してください。選択された日付のみがプランニングに表示されます。

### カタログの価格は必須ですか？
いいえ、オプションです。カタログは主に新しいイベントで価格を提案して時間を節約するために使用されます。

---

*最終更新: バージョン 1.11 - 2025年12月11日*
